export const coinList = {
    'usd': { name: 'USD ', price: "1.00", price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "USD", svg: "https://upload.wikimedia.org/wikipedia/commons/a/a4/Flag_of_the_United_States.svg"},
    'bitcoin': { name: 'Bitcoin', price: '42168.00', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "BTC", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d126235f4853_btc.svg"},
    'ethereum': { name: 'Ethereum', price: '2306.23', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "ETH", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d135455f4830_eth.svg"},
    'cardano': { name: 'Cardano', price: '0.612', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "ADA", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d1b8525f4840_ada.svg"},
    'ripple': { name: 'Xrp', price: '0.623', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "XRP", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d13e655f483e_xrp.svg"},
    'gala': { name: 'Gala', price: '0.031', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "GALA", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d14eb95f48c1_gala-139.svg"},
    'dogecoin': { name: 'Dogecoin', price: '0.091', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "DOGE", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d140395f4848_doge.svg"},
    'polkadot': { name: 'Polkadot', price: '8.30', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "DOT", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d130a55f4837_dot.svg"},
    'uniswap': { name: 'Uniswap', price: '7.73', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "UNI", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d165645f4838_uni.svg"},
    'litecoin': { name: 'Litecoin', price: '73.17', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "LTC", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d17d2c5f4847_ltc.svg"},
    'chainlink': { name: 'Chainlink', price: '15.45', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "LINK", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d139905f4842_link.svg"},
    'bitcoin-cash': { name: 'Bitcoin Cash', price: '259.72', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "BCH", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d15f0d5f483d_bch.svg"},
    'solana': { name: 'Solana', price: '106.02', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "SOL", svg: "https://assets-global.website-files.com/618f5135a46a31556f014bd3/62057b133192663331e1bebc_SOL.svg"},
    'matic-network': { name: 'Polygon', price: '0.964', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "MATIC", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d111365f4831_matic.svg"},
    'aave': { name: 'Aave', price: '113.71', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "AAVE", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d1a7495f4841_aave.svg"},
    'stellar': { name: 'Stellar', price: '0.130', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "XLM", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d13c805f4846_xlm.svg"},
    'tron': { name: 'TRON', price: '0.106', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "TRX", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d18f7c5f48b5_trx-139.svg"},
    'tezos': { name: 'Tezos', price: '1.04', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "XTZ", svg: "https://assets-global.website-files.com/618f5135a46a31556f014bd3/64b1b15d2089e3b35e7f6157_XTZ%20token.svg"},
    'algorand': { name: 'Algorand', price: '0.227', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "ALGO", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d1ef715f48bf_algo.svg"},
    'the-graph': { name: 'The Graph', price: '0.181', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "GRT", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d1016d5f482a_grt.svg"},
    'basic-attention-token': { name: 'B.A.T', price: '0.247', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "BAT", svg: "https://assets-global.website-files.com/63a22878d7b6d183285f4638/63a22878d7b6d1576d5f482d_bat.svg"},
    'near': { name: 'Near Protocol', price: "3.72", price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "NEAR", svg: "https://assets-global.website-files.com/618f5135a46a31556f014bd3/64af0bcd091a82c532df89ea_NEAR.svg"},
    'apecoin': { name: 'Ape Coin', price: '1.67', price_change_percentage_24h: "0.00", low_24h: "0", high_24h: "0", total_volume: "0", symbol: "APE", svg: "https://assets-global.website-files.com/618f5135a46a31556f014bd3/6279271d4a26f36163e31cd3_APE2.svg"},
  };

export default class CoinData {
    constructor(){
        this.coinList = coinList;
        
    }

    updatePrices(data) {

        for (let i = 0; i < data.length; i++) {
            const ticker = data[i];
            const id = ticker.id;
            if (Object.keys(this.coinList).includes(id) ) {
                
                this.coinList[id].price = ticker.current_price;
                this.coinList[id].price_change_percentage_24h = ticker.price_change_percentage_24h;
                this.coinList[id].total_volume = ticker.total_volume;
                this.coinList[id].low_24h = ticker.low_24h;
                this.coinList[id].high_24h = ticker.high_24h;
            }
        }
    }

    getCoin(ticker){
        return this.coinList[ticker];
    }


    getTickers(){

        return Object.keys(this.coinList);
    }

    isCoin(ticker){
        if(this.coinList[ticker]){
            return true;
        }
        return false;
    }

    roundFigs(value, sigFigs) {
        
        let number = parseFloat(value);
        if(number === 0){
            return 0;
        }
        else if(number > 1000){
            return number.toFixed(0);
        }
        else if(number >= 1){
            return number.toFixed(2);
        }
        let stringValue = value.toString();
        
        // Determine the number of significant figures
        let significantFigures = 0;
        let nonZeroFound = false;
    
        for (let i = 0; i < stringValue.length; i++) {
            if (stringValue[i] === '0' && !nonZeroFound) {
                // Ignore leading zeros
            } else if (stringValue[i] !== '.') {
                // Count digits (excluding the decimal point)
                significantFigures++;
                nonZeroFound = true;
            }
    
            if (significantFigures === sigFigs) {
                // Break once the desired number of significant figures is reached
                break;
            }
        }
    
        // Round the combined value to the specified number of significant figures
        let roundedValue = parseFloat(number.toPrecision(significantFigures));
    
        return roundedValue;
    }

}

